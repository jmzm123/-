# AI Food Image Generator (AI 食材图片生成器)

这是一个基于 Node.js 的批量图片生成工具，利用智谱 AI 的强大模型，根据你提供的清单自动生成高质量的图片。

它最大的特色是支持**“参考图风格迁移”**：你可以给它一张图片，它会自动分析这张图片的画风（配色、光影、构图），并用同样的风格画出清单里的所有物品。

## ✨ 主要功能

*   **批量生成**：读取 txt 文件，自动批量生成图片。
*   **中英双语支持**：支持 `英文名,中文名` 格式，自动识别并生成。
*   **参考图风格复刻**：上传一张 `style_reference.jpg`，全自动分析并模仿其风格。
*   **免费模型**：默认使用智谱 AI 的免费模型，成本极低。
    *   风格分析：`glm-4v-flash` (免费)
    *   图片生成：`cogview-3-flash` (免费)

## 🚀 快速开始

### 1. 安装依赖

确保你已经安装了 Node.js，然后在项目根目录下运行：

```bash
npm install
```

### 2. 配置 API Key

在项目根目录下创建一个 `.env` 文件（如果已有则直接修改），填入你的智谱 AI API Key：

```properties
ZHIPU_API_KEY=你的API_KEY.放在这里
```

> 还没有 API Key？去 [智谱 AI 开放平台](https://open.bigmodel.cn/) 申请一个。

### 3. 准备清单

编辑 `ingredients.txt` 文件，每行一个物品。支持两种格式：

*   **纯英文**：
    ```text
    Apple
    Banana
    ```
*   **英文,中文** (推荐)：
    ```text
    Apple,苹果
    Banana,香蕉
    ```

### 4. 准备参考图 (可选，强烈推荐)

如果你希望生成的图片具有特定的风格（例如：素描、水彩、3D渲染、极简扁平），请找一张具有该风格的图片。
*   将图片重命名为 `style_reference.jpg`。
*   放入项目根目录。

> **注意**：如果不放参考图，脚本将使用默认的“扁平化 UI 插画”风格。

### 5. 运行生成

```bash
node index.js
```

或者：

```bash
npm start
```

## 📂 输出结果

生成的图片将保存在 `output` 文件夹中，文件名会自动对应清单中的英文名称（例如 `output/Apple.png`）。

## 🛠️ 文件结构

*   `index.js`: 核心脚本代码。
*   `ingredients.txt`: 待生成的物品清单。
*   `style_reference.jpg`: (可选) 风格参考图片。
*   `.env`: 配置文件 (API Key)。
*   `output/`: 图片生成结果目录。
